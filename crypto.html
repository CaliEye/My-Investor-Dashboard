<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CyberSci-Dash v2 | Crypto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Crypto Market Center - Cycles, on-chain data, heatmaps, and key signals.">
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="icon" href="images/favicon.ico">
</head>
<body class="bg-gray-900 text-white font-inter">
  <header class="px-6 py-4 flex justify-between items-center border-b border-green-400 shadow-lg">
    <h1 class="text-3xl font-orbitron tracking-widest text-green-400">CyberSci-Dash v2</h1>
    <nav class="space-x-6 text-lg font-orbitron tracking-wide">
      <a href="index.html" class="hover:text-cyan-400" aria-label="Dashboard">Dashboard</a>
      <a href="warroom.html" class="hover:text-pink-400" aria-label="War Room">War Room</a>
      <a href="macro.html" class="hover:text-yellow-400" aria-label="Macro">Macro</a>
      <a href="crypto.html" class="text-green-400 border-b-2 border-green-400 pb-1" aria-label="Crypto">Crypto</a>
      <a href="sentiment.html" class="hover:text-cyan-400" aria-label="Sentiment">Sentiment</a>
      <a href="senario.html" class="hover:text-cyan-400" aria-label="Scenario Builder">Scenario Builder</a>
      <a href="insights.html" class="hover:text-cyan-400" aria-label="Insights">Insights</a>
      <a href="links.html" class="hover:text-cyan-400" aria-label="Quick Links">Quick Links</a>
    </nav>
  </header>

  <main class="p-6 max-w-7xl mx-auto">
    <!-- CRYPTO HUD HERO -->
    <section class="mb-10 rounded-2xl border-2 border-green-400 shadow-green-400/40 shadow-xl bg-gradient-to-br from-gray-900 via-gray-800 to-green-900 px-8 py-8">
      <h2 class="text-2xl font-orbitron text-green-300 mb-5 tracking-widest">ü™ô Crypto Command Center</h2>
      <div class="grid md:grid-cols-2 gap-10">
        <div>
          <ul class="space-y-2 text-lg">
            <li><span class="font-bold text-yellow-300">BTC Price:</span> <span id="crypto-btc-price">...</span></li>
            <li><span class="font-bold text-blue-300">ETH Price:</span> <span id="crypto-eth-price">...</span></li>
            <li><span class="font-bold text-cyan-400">Total Market Cap:</span> <span id="crypto-mcap">...</span></li>
            <li><span class="font-bold text-pink-400">Dominance:</span> <span id="crypto-dominance">...</span></li>
            <li><span class="font-bold text-green-400">Cycle Status:</span> <span id="crypto-cycle">Year 4 (Late Expansion)</span></li>
          </ul>
          <div class="mt-5 text-xs text-gray-300 italic">
            Live crypto prices, cycle status, and chain health at a glance.
          </div>
        </div>
        <div>
          <div class="bg-gray-800 border border-green-500 rounded-xl p-4 shadow mb-5">
            <h3 class="text-lg font-orbitron text-green-300 mb-2">On-Chain Signals</h3>
            <ul class="list-inside text-base space-y-1">
              <li>‚Ä¢ <span class="font-bold text-yellow-300">NVT Ratio:</span> <span id="crypto-nvt">...</span></li>
              <li>‚Ä¢ <span class="font-bold text-cyan-300">Whale Activity:</span> <span id="crypto-whales">...</span></li>
              <li>‚Ä¢ <span class="font-bold text-pink-300">Stablecoin Flows:</span> <span id="crypto-stable">...</span></li>
              <li>‚Ä¢ <span class="font-bold text-blue-300">Exchange Flows:</span> <span id="crypto-exchange">...</span></li>
            </ul>
          </div>
          <div class="bg-gray-800 border border-pink-500 rounded-xl p-4 shadow">
            <h3 class="text-lg font-orbitron text-pink-300 mb-2">Liquidation Levels</h3>
            <ul class="list-inside text-base space-y-1">
              <li>‚Ä¢ <span class="font-bold text-yellow-400">Longs:</span> <span id="crypto-longs">...</span></li>
              <li>‚Ä¢ <span class="font-bold text-blue-400">Shorts:</span> <span id="crypto-shorts">...</span></li>
              <li>‚Ä¢ <span class="font-bold text-cyan-400">Heatmap:</span> <span id="crypto-heatmap">...</span></li>
            </ul>
            <div class="mt-2 text-xs text-gray-400">Major liquidation clusters update in real time.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Market Heatmap and Charts -->
    <section class="mb-12">
      <h2 class="text-xl font-orbitron text-green-300 mb-4">Crypto Market Heatmap</h2>
      <div class="bg-gray-900 border border-green-500 rounded-xl p-6 shadow flex flex-col items-center">
        <img src="images/heatmap_sample.png" alt="Crypto Market Heatmap" class="w-full max-w-2xl rounded-lg shadow-lg mb-4">
        <div class="text-sm text-gray-400">Top movers, volume, and risk clusters highlighted.</div>
      </div>
      <div class="grid md:grid-cols-2 gap-8 mt-8">
        <div class="bg-gray-900 border border-yellow-400 rounded-xl p-5 shadow">
          <h4 class="font-orbitron text-yellow-300 mb-2">BTC/ETH Cycle Positioning</h4>
          <canvas id="crypto-cycle-chart" class="crypto-chart"></canvas>
        </div>
        <div class="bg-gray-900 border border-cyan-500 rounded-xl p-5 shadow">
          <h4 class="font-orbitron text-cyan-300 mb-2">Funding Rates & Open Interest</h4>
          <canvas id="crypto-funding-chart" class="crypto-chart"></canvas>
        </div>
      </div>
    </section>

    <!-- Key Levels and Action Guidance -->
    <section class="mb-12 grid md:grid-cols-2 gap-8">
      <div class="bg-gray-900 border border-pink-400 rounded-xl p-6 shadow">
        <h3 class="font-orbitron text-pink-400 mb-2">Key Support & Resistance</h3>
        <ul class="list-inside text-base space-y-2">
          <li><span class="font-bold text-yellow-400">BTC Support:</span> <span id="btc-support">...</span></li>
          <li><span class="font-bold text-yellow-400">BTC Resistance:</span> <span id="btc-resistance">...</span></li>
          <li><span class="font-bold text-blue-400">ETH Support:</span> <span id="eth-support">...</span></li>
          <li><span class="font-bold text-blue-400">ETH Resistance:</span> <span id="eth-resistance">...</span></li>
        </ul>
      </div>
      <div class="bg-gray-900 border border-green-400 rounded-xl p-6 shadow">
        <h3 class="font-orbitron text-green-400 mb-2">Action Guidance</h3>
        <ul class="list-inside text-base space-y-2">
          <li>Cycle: <span class="font-bold text-green-300">Late Expansion</span> - Caution on new longs</li>
          <li>On-Chain: <span class="font-bold text-cyan-300">No major risk signals</span></li>
          <li>Funding: <span class="font-bold text-yellow-300">Neutral</span></li>
          <li>Plan: <span class="font-bold text-pink-300">Monitor for breakout or reversal</span></li>
        </ul>
      </div>
    </section>

    <!-- 2026 Crypto Watch Rules -->
    <section class="mb-12">
      <h2 class="text-xl font-orbitron text-green-300 mb-4">üëÅÔ∏è 2026 Watch Rules</h2>
      <div class="bg-gray-900 border border-green-500 rounded-xl p-6 shadow">
        <h3 class="font-orbitron text-green-400 mb-4">Key Signals to Monitor</h3>
        <ul class="space-y-3 text-base">
          <li id="watch-rule-1" class="p-3 bg-gray-800 rounded-lg border-l-4 border-green-400">...</li>
          <li id="watch-rule-2" class="p-3 bg-gray-800 rounded-lg border-l-4 border-yellow-400">...</li>
          <li id="watch-rule-3" class="p-3 bg-gray-800 rounded-lg border-l-4 border-blue-400">...</li>
          <li id="watch-rule-4" class="p-3 bg-gray-800 rounded-lg border-l-4 border-pink-400">...</li>
        </ul>
        <div class="mt-4 p-4 bg-gray-800 rounded-lg">
          <h4 class="font-bold text-cyan-300 mb-2">Current Cycle Assessment:</h4>
          <p class="text-sm text-gray-300" id="cycle-assessment">Cycle analysis will appear here...</p>
        </div>
      </div>
    </section>

    <!-- Live Prices Section -->
    <section class="mb-12">
      <div class="live-prices">
        <h3 class="font-orbitron text-cyan-300 mb-2">Live Prices</h3>
        <ul class="list-inside text-base space-y-2">
          <li><span class="font-bold text-yellow-300">BTC/USD:</span> <span id="live-btc-price">Loading...</span></li>
          <li><span class="font-bold text-green-300">ETH/USD:</span> <span id="live-eth-price">Loading...</span></li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="text-center text-gray-400 mt-8 mb-3 text-sm">
    &copy; 2025 CyberSci-Dash. All rights reserved.
  </footer>

  <script>
    async function loadData() {
      try {
        const res = await fetch("./data/data.json", { cache: "no-store" });
        const d = await res.json();

        const fmt = (x) => (x === null || x === undefined) ? "‚Äî" : x;

        // Crypto overview data
        if (document.getElementById("crypto-btc-price")) document.getElementById("crypto-btc-price").textContent = fmt(d.crypto.btc_price_formatted);
        if (document.getElementById("crypto-eth-price")) document.getElementById("crypto-eth-price").textContent = fmt(d.crypto.eth_price_formatted);
        if (document.getElementById("crypto-mcap")) document.getElementById("crypto-mcap").textContent = fmt(d.crypto.total_market_cap);
        if (document.getElementById("crypto-dominance")) document.getElementById("crypto-dominance").textContent = fmt(d.crypto.btc_dominance);
        if (document.getElementById("crypto-cycle")) document.getElementById("crypto-cycle").textContent = fmt(d.crypto.cycle_status);
        
        // On-chain signals
        if (document.getElementById("crypto-nvt")) document.getElementById("crypto-nvt").textContent = fmt(d.crypto.nvt_ratio);
        if (document.getElementById("crypto-whales")) document.getElementById("crypto-whales").textContent = fmt(d.crypto.whale_activity);
        if (document.getElementById("crypto-stable")) document.getElementById("crypto-stable").textContent = fmt(d.crypto.stablecoin_flows);
        if (document.getElementById("crypto-exchange")) document.getElementById("crypto-exchange").textContent = fmt(d.crypto.exchange_flows);
        
        // Liquidation levels
        if (document.getElementById("crypto-longs")) document.getElementById("crypto-longs").textContent = fmt(d.crypto.longs_liquidation);
        if (document.getElementById("crypto-shorts")) document.getElementById("crypto-shorts").textContent = fmt(d.crypto.shorts_liquidation);
        if (document.getElementById("crypto-heatmap")) document.getElementById("crypto-heatmap").textContent = fmt(d.crypto.heatmap_status);
        
        // Key levels
        if (document.getElementById("btc-support")) document.getElementById("btc-support").textContent = fmt(d.crypto.btc_support);
        if (document.getElementById("btc-resistance")) document.getElementById("btc-resistance").textContent = fmt(d.crypto.btc_resistance);
        if (document.getElementById("eth-support")) document.getElementById("eth-support").textContent = fmt(d.crypto.eth_support);
        if (document.getElementById("eth-resistance")) document.getElementById("eth-resistance").textContent = fmt(d.crypto.eth_resistance);
        
        // Live prices
        if (document.getElementById("live-btc-price")) document.getElementById("live-btc-price").textContent = fmt(d.crypto.btc_price_formatted);
        if (document.getElementById("live-eth-price")) document.getElementById("live-eth-price").textContent = fmt(d.crypto.eth_price_formatted);
        
        // 2026 Watch Rules
        if (d.crypto.watch_rules_2026 && Array.isArray(d.crypto.watch_rules_2026)) {
          const rules = d.crypto.watch_rules_2026;
          if (document.getElementById("watch-rule-1")) document.getElementById("watch-rule-1").textContent = rules[0] || "‚Äî";
          if (document.getElementById("watch-rule-2")) document.getElementById("watch-rule-2").textContent = rules[1] || "‚Äî";
          if (document.getElementById("watch-rule-3")) document.getElementById("watch-rule-3").textContent = rules[2] || "‚Äî";
          if (document.getElementById("watch-rule-4")) document.getElementById("watch-rule-4").textContent = rules[3] || "‚Äî";
        }
        
        // Cycle assessment
        if (document.getElementById("cycle-assessment")) {
          document.getElementById("cycle-assessment").textContent = 
            `Currently in ${d.crypto.cycle_status}. BTC at ${d.crypto.btc_price_formatted}, ` +
            `showing ${d.crypto.whale_activity.toLowerCase()} whale activity. ` +
            `Watch for cycle top signals and plan accordingly.`;
        }
        
      } catch (error) {
        console.error('Error loading crypto data:', error);
        // Set fallback data
        document.querySelectorAll('[id*="crypto-"], [id*="btc-"], [id*="eth-"], [id*="live-"], [id*="watch-rule-"]').forEach(el => {
          if (el.textContent === 'Loading...' || el.textContent === '...') {
            el.textContent = 'Error loading';
          }
        });
      }
    }
    
    document.addEventListener('DOMContentLoaded', loadData);
  </script>
</body>
</html>